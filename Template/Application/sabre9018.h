#ifndef __SABRE9018_H
#define __SABRE9018_H


#include "dev_conf.h"
#include "PCA9544.h"
#include "dev_iic.h"
#include "systick.h"

/*
	SABRE9018 at 0 channel of 9548
*/
//
#define SABRE9018_IIC_ADDR  (0x92<<0)

#define SABRE9018_CHANNEL PCA9544_CHANNEL_0

#define SABRE9018_IIC_BUS 1

#define SABRE9018_REG_SYSTEMSET 0x00
#define SABRE9018_REG_INPUTCONFIG 0x01
#define SABRE9018_REG_SOFTVOLUMECTRL_1 0x04
#define SABRE9018_REG_SOFTVOLUMECTRL_2 0x05
#define SABRE9018_REG_SOFTVOLUMECTRL_3 0x06
#define SABRE9018_REG_GENERALSETTING 0x07
#define SABRE9018_REG_GPIOCONFIG 0x08
#define SABRE9018_REG_MASTERMODECTRL 0x0A
#define SABRE9018_REG_CHANNELMAPPING 0x0B
#define SABRE9018_REG_DPLL_ASRC_SETTING 0x0C
#define SABRE9018_REG_THDCOMPENSATION 0x0D
#define SABRE9018_REG_SOFTSTARTSETTING 0x0E
#define SABRE9018_REG_VOLUME_1 0x0F
#define SABRE9018_REG_VOLUME_2 0x10

#define SABRE9018_REG_MASTERTRIM_0 0x11
#define SABRE9018_REG_MASTERTRIM_1 0x12
#define SABRE9018_REG_MASTERTRIM_2 0x13
#define SABRE9018_REG_MASTERTRIM_3 0x14

#define SABRE9018_REG_GPIOINPUTSELECTION_OSFBYPASS 0x15

#define SABRE9018_REG_HARMONICCOMPENSATIONCOFFIENTS_2ND_0 0x16
#define SABRE9018_REG_HARMONICCOMPENSATIONCOFFIENTS_2ND_1 0x17
#define SABRE9018_REG_HARMONICCOMPENSATIONCOFFIENTS_3RD_0 0x18
#define SABRE9018_REG_HARMONICCOMPENSATIONCOFFIENTS_3RD_1 0x19

#define SABRE9018_REG_PROGRAMMABLE_FILTER_ADDRESS 0x1A

#define SABRE9018_REG_PROGRAMMABLE_FILTER_COEFFICIENT_0 0x1B
#define SABRE9018_REG_PROGRAMMABLE_FILTER_COEFFICIENT_1 0x1C
#define SABRE9018_REG_PROGRAMMABLE_FILTER_COEFFICIENT_2 0x1D

#define SABRE9018_REG_PROGRAMMABLE_FILTER_CTRL 0x1E

#define SABRE9018_REG_RIGHTCHANNEL_2ND_HARMONICCOMPENSATIONCOEFFICIENTS_0 0x22
#define SABRE9018_REG_RIGHTCHANNEL_2ND_HARMONICCOMPENSATIONCOEFFICIENTS_1 0x23

#define SABRE9018_REG_RIGHTCHANNEL_3RD_HARMONICCOMPENSATIONCOEFFICIENTS_0 0x24
#define SABRE9018_REG_RIGHTCHANNEL_3RD_HARMONICCOMPENSATIONCOEFFICIENTS_1 0x25

#define SABRE9018_REG_SEPARATETHDCOMPENSATION 0x26

#define SABRE9018_REG_FSYNCCTRL_0 0x27
#define SABRE9018_REG_FSYNCCTRL_1 0x28

#define SABRE9018_REG_HEADPHONEAMPLIFERBIASCTRL 0x29
#define SABRE9018_REG_HEADPHONEAMPLIFERCTRL 0x2A

#define SABRE9018_REG_SLIMBUSCTRL 0x2B

#define SABRE9018_REG_CHIPSTATUS 0x40
#define SABRE9018_REG_READONLY 0x41

#define SABRE9018_REG_DPLLRATIO_0 0x42
#define SABRE9018_REG_DPLLRATIO_1 0x43
#define SABRE9018_REG_DPLLRATIO_2 0x44
#define SABRE9018_REG_DPLLRATIO_3 0x45

#define SABRE9018_REG_CHANNEL_STATUS_0 0x46
#define SABRE9018_REG_CHANNEL_STATUS_1 0x47
#define SABRE9018_REG_CHANNEL_STATUS_2 0x48
#define SABRE9018_REG_CHANNEL_STATUS_3 0x49
#define SABRE9018_REG_CHANNEL_STATUS_4 0x4A

static unsigned char sabre9018_init_reg[64]=
{
			0x00,	//SABRE9018_REG_SYSTEMSET
			0x8C,	//SABRE9018_REG_INPUTCONFIG,0x8C
			0x00,	//SABRE9018_REG_SOFTVOLUMECTRL_1
			0x68,	//SABRE9018_REG_SOFTVOLUMECTRL_2
			0x5A,	//SABRE9018_REG_SOFTVOLUMECTRL_3
			0x80,	//SABRE9018_REG_GENERALSETTING
			0x00,	//SABRE9018_REG_GPIOCONFIG
			0x82, //SABRE9018_REG_MASTERMODECTRL
			0x22, //SABRE9018_REG_CHANNELMAPPING
			0x5A, //SABRE9018_REG_DPLL_ASRC_SETTING
			0x00, //SABRE9018_REG_THDCOMPENSATION
			0x8A, //SABRE9018_REG_SOFTSTARTSETTING
			0x00, //SABRE9018_REG_VOLUME_1
			0x00, //SABRE9018_REG_VOLUME_2
			0xff, //SABRE9018_REG_MASTERTRIM_0
			0xff, //SABRE9018_REG_MASTERTRIM_1
			0xff, //SABRE9018_REG_MASTERTRIM_2
			0x7f, //SABRE9018_REG_MASTERTRIM_3
			0x00, //SABRE9018_REG_GPIOINPUTSELECTION_OSFBYPASS
			0x00, //SABRE9018_REG_HARMONICCOMPENSATIONCOFFIENTS_2ND_0
			0x00, //SABRE9018_REG_HARMONICCOMPENSATIONCOFFIENTS_2ND_1
			0x00, //SABRE9018_REG_HARMONICCOMPENSATIONCOFFIENTS_3RD_0
			0x00, //SABRE9018_REG_HARMONICCOMPENSATIONCOFFIENTS_3RD_1
			0x00, //SABRE9018_REG_PROGRAMMABLE_FILTER_ADDRESS
			0x00, //SABRE9018_REG_PROGRAMMABLE_FILTER_COEFFICIENT_0
			0x00, //SABRE9018_REG_PROGRAMMABLE_FILTER_COEFFICIENT_1
			0x00, //SABRE9018_REG_PROGRAMMABLE_FILTER_COEFFICIENT_2
			0x00, //SABRE9018_REG_PROGRAMMABLE_FILTER_CTRL
			0x00, //SABRE9018_REG_RIGHTCHANNEL_2ND_HARMONICCOMPENSATIONCOEFFICIENTS_0
			0x00, //SABRE9018_REG_RIGHTCHANNEL_2ND_HARMONICCOMPENSATIONCOEFFICIENTS_1
			0x00, //SABRE9018_REG_RIGHTCHANNEL_3RD_HARMONICCOMPENSATIONCOEFFICIENTS_0
			0x00, //SABRE9018_REG_RIGHTCHANNEL_3RD_HARMONICCOMPENSATIONCOEFFICIENTS_1
			0x00, //SABRE9018_REG_SEPARATETHDCOMPENSATION
			0x00, //SABRE9018_REG_FSYNCCTRL_0
			0x10, //SABRE9018_REG_FSYNCCTRL_1
			0x04, //SABRE9018_REG_HEADPHONEAMPLIFERBIASCTRL
			0x60, //SABRE9018_REG_HEADPHONEAMPLIFERCTRL
			0x00  //SABRE9018_REG_SLIMBUSCTRL
};

int sabre9018_init(void);
int sabre9018_write(unsigned char reg_addr, unsigned char send_data);
int sabre9018_read(unsigned char reg_addr, unsigned char *read_data, int len);

#endif

